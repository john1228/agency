<%= semantic_form_for @admin_user, html: {multipart: true} do |f| %>

    <h3 class="Content-h3"><%= edit_helper(@admin_user) %>工作人员</h3>
    <div class="panel">
      <div class="panel-body">
        <h4 class="base-info">基本资料</h4>
        <% if @admin_user.errors.present? %>
            <div class="alert alert-danger alert-dismissable">
              <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
              <% @admin_user.errors.messages.values.each { |v| %>
                  <%= v %><br/>
              <% } %>
            </div>
        <% end %>


        <div class=" pull-right">
          <div class="portrait" data-url="<%= @admin_user.avatar.url(:thumb) if @admin_user.avatar.present? %>">

            <div class="place">
                  <span>
                    <i class=" icon"></i>
                  </span>

              <p>上传头像</p>
            </div>
            <div class="show"></div>
            <%= f.file_field :avatar, class: "file_remove_format file_uploader" %>
          </div>
        </div>

        <div class="form-main">


          <div class="input-group  ">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">工作人员姓名</samp></span>

            <%= f.text_field :name, :class => "form-control" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">生日</samp></span>
            <%= f.text_field :birthday, class: "form-control datepicker" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">性别</samp></span>
            <%= f.collection_select :gender, UserRegistration.genders.map { |key, value| [I18n.t("activerecord.attributes.gender.#{key}"), key] }, :last, :first, class: "form-control" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">手机号码</samp></span>
            <%= f.text_field :mobile, class: "form-control" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">所属门店</samp></span>
            <%= f.collection_select :service_id, current_user.all_services, :id, :name, {include_blank: "全部"}, class: "form-control" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">身份</samp></span>
            <%= f.collection_select(:role, I18n.t("enums.admin_user.role").except(:super, :admin, :cms, :market, :operator, :superadmin), :first, :last, {include_hidden: false}, {multiple: false}) %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">备注</samp></span>
            <%= f.text_field :remark, class: "form-control" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">登录邮箱</samp></span>
            <%= f.text_field :email, class: "form-control", placeholder: "请输入邮箱" %>
          </div>

          <div class="input-group  top20">
            <span class="input-group-addon" id="sizing-addon2"><samp class="alert-down">登录密码</samp></span>
            <%= f.password_field :password, class: "form-control" %>
          </div>
        </div>


        <div class="fygroup top20">
          <button type="submit" class="submit ">确认</button>
        </div>
      </div>

    </div>
<% end %>

<script>

    $(function () {
                $("#admin_user_birthday").datepicker({
                    language: 'zh-CN',
                    format: 'yyyy-mm-dd'
                });
                $(".portrait").Avatar();
//                $('#service_profile_attributes_hobby').multiselect({
//                    inheritClass: true,
//                    numberDisplayed: 8,
//                    nonSelectedText: '请选择提供的健身服务',
//                    maxHeight: 100,
//                    dropUp: true
//                });

            }
    );
    /**
     * 建立一個可存取到該file的url
     * PS: 瀏覽器必須支援HTML5 File API
     */

</script>
